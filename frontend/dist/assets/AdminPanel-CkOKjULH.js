import{j as g,_ as _e,e as be,o,c as n,a as e,n as w,t as s,d as m,F as k,f as S,s as U,x as D,h as re,w as ce,r as u}from"./index-DDxpmVXJ.js";const _={getScholarships:(r={})=>g.get("/admin/scholarships",{params:r}),getScholarshipById:r=>g.get(`/admin/scholarships/${r}`),createScholarship:r=>g.post("/admin/scholarships",r),updateScholarship:(r,p)=>g.put(`/admin/scholarships/${r}`,p),getLookups:()=>g.get("/admin/scholarships/lookups"),getUsers:(r={})=>g.get("/admin/users",{params:r}),getUserById:r=>g.get(`/admin/users/${r}`),updateUserRole:(r,p)=>g.put(`/admin/users/${r}/role`,{role:p}),toggleUserBlock:(r,p)=>g.put(`/admin/users/${r}/block`,{blocked:p}),getRoles:()=>g.get("/admin/users/roles"),getLegacyImports:(r={})=>g.get("/admin/legacy/imports",{params:r}),importLegacy:r=>g.post("/admin/legacy/import",{submissions:r}),getAuditLogs:(r={})=>g.get("/admin/audit",{params:r}),getAuditActions:()=>g.get("/admin/audit/actions"),exportAuditLogs:(r={})=>g.get("/admin/audit/export",{params:r,responseType:"blob"}),syncWithSFS:()=>g.post("/admin/sfs/sync")},fe={class:"admin-panel"},ke={class:"tabs"},Se={key:0,type:"emergency",heading:"Error"},we={key:1,type:"success",heading:"Success"},Ae={key:2,class:"loading"},xe={key:3},$e={class:"action-bar"},Fe={class:"search-box"},Ce=["value"],Le={key:0,class:"data-table"},Ie=["on_click"],Ne={key:1,class:"empty-state"},Ue={key:2,class:"pagination"},De=["disabled"],Pe=["disabled"],Te={key:4},Re={class:"action-bar"},ze={class:"search-box"},Ee=["value"],Ve={class:"filter-group"},Me=["value"],Oe={key:0,class:"data-table"},Be=["value","onChange"],Je=["value"],je={key:0,class:"badge badge-blocked"},We={key:1,class:"badge badge-active-user"},He=["on_click"],Ye=["on_click"],qe={key:1,class:"empty-state"},Ge={key:2,class:"pagination"},Ke=["disabled"],Qe=["disabled"],Xe={key:5},Ze={class:"action-bar"},et={key:0,class:"data-table"},tt={key:1,class:"empty-state"},lt={key:6},at={class:"action-bar"},st={class:"search-box"},ot=["value"],nt={class:"filter-group"},it=["value"],ut={key:0,class:"data-table"},dt={class:"nowrap"},rt={class:"details-cell"},ct={class:"details-cell"},vt={key:0,class:"change-old"},pt={key:1,class:"change-new"},mt={key:1,class:"empty-state"},gt={key:2,class:"pagination"},yt=["disabled"],ht=["disabled"],_t={key:7},bt={class:"sfs-panel"},ft={class:"action-bar"},kt=["disabled"],St={key:0,class:"sync-results"},wt={class:"sync-stats"},At={class:"stat-card"},xt={class:"stat-value"},$t={class:"stat-card stat-ok"},Ft={class:"stat-value"},Ct={class:"stat-card stat-warn"},Lt={class:"stat-value"},It={class:"stat-card"},Nt={class:"stat-value"},Ut={class:"sync-status"},Dt={class:"dialog dialog-wide"},Pt={class:"form-grid"},Tt={label:"Code"},Rt=["value"],zt={label:"Name"},Et=["value"],Vt={label:"Type"},Mt=["value"],Ot={label:"Category"},Bt=["value"],Jt={label:"Value ($)"},jt=["value"],Wt={label:"Academic Year"},Ht=["value"],Yt={label:"Deadline Start"},qt=["value"],Gt={label:"Deadline End"},Kt=["value"],Qt={label:"Max Awards"},Xt=["value"],Zt={label:"Status"},el={label:"Selection Process"},tl=["value"],ll={class:"dialog-actions"},al=["disabled"],sl={class:"dialog dialog-wide"},ol={label:"JSON Data"},nl=["value"],il={key:0,class:"import-result"},ul={key:0,class:"import-errors"},dl={class:"dialog-actions"},rl=["disabled"],j=25,W=25,H=50,cl={__name:"AdminPanel",setup(r){const p=u("scholarships"),h=u(!0),v=u(null),y=u(null),P=u(!1),Y=u([]),q=u(""),x=u(1),T=u(0),L=u(!1),I=u(null),d=u(ne()),G=u({categories:[],types:[]}),K=u([]),Q=u(""),X=u(""),$=u(1),R=u(0),Z=u([]),ee=u([]),z=u(!1),E=u(""),f=u(null),V=u(!1),te=u([]),le=u(""),M=u(""),O=u([]),F=u(1),B=u(0),J=u(!1),b=u(null);function ne(){return{code:"",name:"",type:"online application",value:"",category:"",deadline_start:"",deadline_end:"",academic_year:"2025-2026",max_awards:null,selection_process:"",status:"Active"}}be(async()=>{await C();try{const[a,t]=await Promise.all([_.getLookups(),_.getRoles()]);G.value=a,Z.value=t}catch{}});async function C(){var a,t;h.value=!0,v.value=null;try{const i=await _.getScholarships({page:x.value,limit:j,search:q.value});Y.value=i.data||[],T.value=i.total||0}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Failed to load scholarships"}finally{h.value=!1}}async function A(){var a,t;h.value=!0,v.value=null;try{const i=await _.getUsers({page:$.value,limit:W,search:Q.value,role:X.value});K.value=i.data||[],R.value=i.total||0}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Failed to load users"}finally{h.value=!1}}async function ve(){var a,t;h.value=!0,v.value=null;try{const i=await _.getLegacyImports();ee.value=i.data||[]}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Failed to load import history"}finally{h.value=!1}}function ie(a=null){var t,i;a?(I.value=a.id,d.value={code:a.code,name:a.name,type:a.type,value:a.value||"",category:a.category||"",deadline_start:((t=a.deadline_start)==null?void 0:t.slice(0,10))||"",deadline_end:((i=a.deadline_end)==null?void 0:i.slice(0,10))||"",academic_year:a.academic_year,max_awards:a.max_awards,selection_process:a.selection_process||"",status:a.status}):(I.value=null,d.value=ne()),L.value=!0}async function pe(){var a,t;P.value=!0,v.value=null;try{I.value?(await _.updateScholarship(I.value,d.value),y.value="Scholarship updated successfully"):(await _.createScholarship(d.value),y.value="Scholarship created successfully"),L.value=!1,await C(),setTimeout(()=>y.value=null,4e3)}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Failed to save scholarship"}finally{P.value=!1}}async function me(a,t){var i,l;v.value=null;try{const c=await _.updateUserRole(a,t);y.value=c.message,setTimeout(()=>y.value=null,4e3)}catch(c){v.value=((l=(i=c.response)==null?void 0:i.data)==null?void 0:l.message)||c.message||"Failed to update role",A()}}async function ue(a,t){var i,l;v.value=null;try{const c=await _.toggleUserBlock(a,t);y.value=c.message,setTimeout(()=>y.value=null,4e3),A()}catch(c){v.value=((l=(i=c.response)==null?void 0:i.data)==null?void 0:l.message)||c.message||"Failed to update user"}}async function ge(){var a,t;V.value=!0,v.value=null,f.value=null;try{const i=JSON.parse(E.value);f.value=await _.importLegacy(i),y.value=`Import complete: ${f.value.imported} imported, ${f.value.failed} failed`,setTimeout(()=>y.value=null,5e3)}catch(i){i instanceof SyntaxError?v.value="Invalid JSON format. Please check your data.":v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Import failed"}finally{V.value=!1}}async function N(){var a,t;h.value=!0,v.value=null;try{const[i,l]=await Promise.all([_.getAuditLogs({page:F.value,limit:H,search:le.value,action:M.value}),O.value.length?Promise.resolve(O.value):_.getAuditActions()]);te.value=i.data||[],B.value=i.total||0,Array.isArray(l)&&(O.value=l)}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Failed to load audit logs"}finally{h.value=!1}}async function ye(){var a;try{const t=await _.exportAuditLogs({action:M.value}),i=typeof t=="string"?t:await((a=t.text)==null?void 0:a.call(t))||t,l=new Blob([i],{type:"text/csv"}),c=URL.createObjectURL(l),oe=document.createElement("a");oe.href=c,oe.download=`audit_log_${new Date().toISOString().slice(0,10)}.csv`,oe.click(),URL.revokeObjectURL(c),y.value="Audit log exported",setTimeout(()=>y.value=null,3e3)}catch{v.value="Failed to export audit log"}}async function he(){var a,t;J.value=!0,v.value=null;try{b.value=await _.syncWithSFS(),y.value=`SFS sync completed: ${b.value.enrollment_confirmed} enrollments confirmed`,setTimeout(()=>y.value=null,5e3)}catch(i){v.value=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"SFS sync failed"}finally{J.value=!1}}function ae(a){return a?new Date(a).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric"}):"-"}function de(a){return a?new Date(a).toLocaleString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function se(a){return a?typeof a=="string"?a:Object.entries(a).slice(0,4).map(([i,l])=>`${i}: ${typeof l=="object"?JSON.stringify(l).slice(0,50):l}`).join(", "):""}return(a,t)=>{var i;return o(),n("div",fe,[t[62]||(t[62]=e("h1",null,"Administration",-1)),t[63]||(t[63]=e("p",{class:"subtitle"},"Manage scholarships, users, and system configuration",-1)),e("div",ke,[e("button",{class:w({active:p.value==="scholarships"}),onClick:t[0]||(t[0]=l=>{p.value="scholarships",C()})}," Scholarships ",2),e("button",{class:w({active:p.value==="users"}),onClick:t[1]||(t[1]=l=>{p.value="users",A()})}," Users & Roles ",2),e("button",{class:w({active:p.value==="legacy"}),onClick:t[2]||(t[2]=l=>{p.value="legacy",ve()})}," Legacy Import ",2),e("button",{class:w({active:p.value==="audit"}),onClick:t[3]||(t[3]=l=>{p.value="audit",N()})}," Audit Trail ",2),e("button",{class:w({active:p.value==="sfs"}),onClick:t[4]||(t[4]=l=>p.value="sfs")}," SFS Sync ",2)]),v.value?(o(),n("goa-callout",Se,s(v.value),1)):m("",!0),y.value?(o(),n("goa-callout",we,s(y.value),1)):m("",!0),h.value?(o(),n("div",Ae,[...t[36]||(t[36]=[e("goa-circular-progress",{size:"large"},null,-1)])])):m("",!0),!h.value&&p.value==="scholarships"?(o(),n("div",xe,[e("div",$e,[e("div",Fe,[e("goa-input",{name:"sch-search",value:q.value,on_change:t[5]||(t[5]=l=>{q.value=l.detail.value,C()}),placeholder:"Search scholarships...",width:"300px",leadingicon:"search"},null,40,Ce)]),e("goa-button",{type:"primary",on_click:t[6]||(t[6]=l=>ie())},"New Scholarship",32)]),Y.value.length>0?(o(),n("table",Le,[t[37]||(t[37]=e("thead",null,[e("tr",null,[e("th",null,"Code"),e("th",null,"Name"),e("th",null,"Type"),e("th",null,"Value"),e("th",null,"Deadline"),e("th",null,"Status"),e("th",null,"Apps"),e("th",null,"Actions")])],-1)),e("tbody",null,[(o(!0),n(k,null,S(Y.value,l=>(o(),n("tr",{key:l.id},[e("td",null,[e("code",null,s(l.code),1)]),e("td",null,s(l.name),1),e("td",null,s(l.type),1),e("td",null,s(l.value||"-"),1),e("td",null,s(ae(l.deadline_end)),1),e("td",null,[e("span",{class:w(["badge","badge-"+(l.status||"active").toLowerCase()])},s(l.status),3)]),e("td",null,s(l.application_count),1),e("td",null,[e("goa-button",{type:"tertiary",size:"compact",on_click:c=>ie(l)},"Edit",40,Ie)])]))),128))])])):(o(),n("div",Ne,[...t[38]||(t[38]=[e("p",null,"No scholarships found.",-1)])])),T.value>j?(o(),n("div",Ue,[e("goa-button",{type:"tertiary",size:"compact",disabled:x.value<=1,on_click:t[7]||(t[7]=l=>{x.value--,C()})},"Previous",40,De),e("span",null,"Page "+s(x.value)+" of "+s(Math.ceil(T.value/j)),1),e("goa-button",{type:"tertiary",size:"compact",disabled:x.value>=Math.ceil(T.value/j),on_click:t[8]||(t[8]=l=>{x.value++,C()})},"Next",40,Pe)])):m("",!0)])):m("",!0),!h.value&&p.value==="users"?(o(),n("div",Te,[e("div",Re,[e("div",ze,[e("goa-input",{name:"user-search",value:Q.value,on_change:t[9]||(t[9]=l=>{Q.value=l.detail.value,A()}),placeholder:"Search by name or email...",width:"300px",leadingicon:"search"},null,40,Ee)]),e("div",Ve,[U(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>X.value=l),onChange:t[11]||(t[11]=l=>A())},[t[39]||(t[39]=e("option",{value:""},"All Roles",-1)),(o(!0),n(k,null,S(Z.value,l=>(o(),n("option",{key:l.code,value:l.code},s(l.label),9,Me))),128))],544),[[D,X.value]])])]),K.value.length>0?(o(),n("table",Oe,[t[40]||(t[40]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Role"),e("th",null,"Apps"),e("th",null,"Status"),e("th",null,"Joined"),e("th",null,"Actions")])],-1)),e("tbody",null,[(o(!0),n(k,null,S(K.value,l=>(o(),n("tr",{key:l.id,class:w({"blocked-user":l.is_blocked})},[e("td",null,s(l.display_name),1),e("td",null,s(l.email),1),e("td",null,[e("select",{value:l.role,onChange:c=>me(l.id,c.target.value),class:"role-select"},[(o(!0),n(k,null,S(Z.value,c=>(o(),n("option",{key:c.code,value:c.code},s(c.label),9,Je))),128))],40,Be)]),e("td",null,s(l.application_count),1),e("td",null,[l.is_blocked?(o(),n("span",je,"Blocked")):(o(),n("span",We,"Active"))]),e("td",null,s(ae(l.created_at)),1),e("td",null,[l.is_blocked?(o(),n("goa-button",{key:1,type:"tertiary",size:"compact",on_click:c=>ue(l.id,!1)},"Unblock",40,Ye)):(o(),n("goa-button",{key:0,type:"tertiary",size:"compact",on_click:c=>ue(l.id,!0)},"Block",40,He))])],2))),128))])])):(o(),n("div",qe,[...t[41]||(t[41]=[e("p",null,"No users found.",-1)])])),R.value>W?(o(),n("div",Ge,[e("goa-button",{type:"tertiary",size:"compact",disabled:$.value<=1,on_click:t[12]||(t[12]=l=>{$.value--,A()})},"Previous",40,Ke),e("span",null,"Page "+s($.value)+" of "+s(Math.ceil(R.value/W)),1),e("goa-button",{type:"tertiary",size:"compact",disabled:$.value>=Math.ceil(R.value/W),on_click:t[13]||(t[13]=l=>{$.value++,A()})},"Next",40,Qe)])):m("",!0)])):m("",!0),!h.value&&p.value==="legacy"?(o(),n("div",Xe,[e("div",Ze,[t[42]||(t[42]=e("span",null,"Import legacy scholarship submissions from CSV/JSON data",-1)),e("goa-button",{type:"primary",on_click:t[14]||(t[14]=l=>z.value=!0)},"Import Submissions",32)]),t[45]||(t[45]=e("h3",null,"Import History",-1)),ee.value.length>0?(o(),n("table",et,[t[43]||(t[43]=e("thead",null,[e("tr",null,[e("th",null,"Date"),e("th",null,"File"),e("th",null,"Table"),e("th",null,"Imported"),e("th",null,"Failed"),e("th",null,"Status")])],-1)),e("tbody",null,[(o(!0),n(k,null,S(ee.value,l=>(o(),n("tr",{key:l.id},[e("td",null,s(ae(l.import_date)),1),e("td",null,s(l.file_name),1),e("td",null,s(l.table_name),1),e("td",null,s(l.records_imported),1),e("td",null,s(l.records_failed),1),e("td",null,[e("span",{class:w(["badge",l.status==="completed"?"badge-ok":"badge-warn"])},s(l.status),3)])]))),128))])])):(o(),n("div",tt,[...t[44]||(t[44]=[e("p",null,"No import history.",-1)])]))])):m("",!0),!h.value&&p.value==="audit"?(o(),n("div",lt,[e("div",at,[e("div",st,[e("goa-input",{name:"audit-search",value:le.value,on_change:t[15]||(t[15]=l=>{le.value=l.detail.value,N()}),placeholder:"Search audit logs...",width:"300px",leadingicon:"search"},null,40,ot)]),e("div",nt,[U(e("select",{"onUpdate:modelValue":t[16]||(t[16]=l=>M.value=l),onChange:t[17]||(t[17]=l=>N())},[t[46]||(t[46]=e("option",{value:""},"All Actions",-1)),(o(!0),n(k,null,S(O.value,l=>(o(),n("option",{key:l,value:l},s(l),9,it))),128))],544),[[D,M.value]])]),e("goa-button",{type:"tertiary",on_click:ye},"Export CSV",32)]),te.value.length>0?(o(),n("table",ut,[t[48]||(t[48]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"User"),e("th",null,"Action"),e("th",null,"Details"),e("th",null,"Changes")])],-1)),e("tbody",null,[(o(!0),n(k,null,S(te.value,l=>(o(),n("tr",{key:l.id},[e("td",dt,s(de(l.created_at)),1),e("td",null,[re(s(l.user_name||"System"),1),t[47]||(t[47]=e("br",null,null,-1)),e("small",null,s(l.user_role),1)]),e("td",null,[e("code",null,s(l.action),1)]),e("td",rt,s(se(l.details)),1),e("td",ct,[l.old_values?(o(),n("span",vt,s(se(l.old_values)),1)):m("",!0),l.new_values?(o(),n("span",pt,s(se(l.new_values)),1)):m("",!0)])]))),128))])])):(o(),n("div",mt,[...t[49]||(t[49]=[e("p",null,"No audit logs found.",-1)])])),B.value>H?(o(),n("div",gt,[e("goa-button",{type:"tertiary",size:"compact",disabled:F.value<=1,on_click:t[18]||(t[18]=l=>{F.value--,N()})},"Previous",40,yt),e("span",null,"Page "+s(F.value)+" of "+s(Math.ceil(B.value/H)),1),e("goa-button",{type:"tertiary",size:"compact",disabled:F.value>=Math.ceil(B.value/H),on_click:t[19]||(t[19]=l=>{F.value++,N()})},"Next",40,ht)])):m("",!0)])):m("",!0),!h.value&&p.value==="sfs"?(o(),n("div",_t,[e("div",bt,[t[56]||(t[56]=e("h3",null,"Student Finance System (SFS) Synchronization",-1)),t[57]||(t[57]=e("p",null,"Synchronize enrollment data with the Student Finance System. This will verify COR status for pending applications and sync student records.",-1)),e("div",ft,[e("span",null,"Last sync: "+s(b.value?de(b.value.started_at):"Never"),1),e("goa-button",{type:"primary",on_click:he,disabled:J.value},s(J.value?"Syncing...":"Run SFS Sync"),41,kt)]),b.value?(o(),n("div",St,[t[55]||(t[55]=e("h4",null,"Last Sync Results",-1)),e("div",wt,[e("div",At,[e("span",xt,s(b.value.enrollment_checks),1),t[50]||(t[50]=e("span",{class:"stat-label"},"Enrollment Checks",-1))]),e("div",$t,[e("span",Ft,s(b.value.enrollment_confirmed),1),t[51]||(t[51]=e("span",{class:"stat-label"},"Confirmed",-1))]),e("div",Ct,[e("span",Lt,s(b.value.enrollment_failed),1),t[52]||(t[52]=e("span",{class:"stat-label"},"Pending/Failed",-1))]),e("div",It,[e("span",Nt,s(b.value.data_synced),1),t[53]||(t[53]=e("span",{class:"stat-label"},"Students Synced",-1))])]),e("p",Ut,[t[54]||(t[54]=re("Status: ",-1)),e("span",{class:w(["badge",b.value.status==="completed"?"badge-ok":"badge-warn"])},s(b.value.status),3)])])):m("",!0)])])):m("",!0),L.value?(o(),n("div",{key:8,class:"dialog-overlay",onClick:t[32]||(t[32]=ce(l=>L.value=!1,["self"]))},[e("div",Dt,[e("h3",null,s(I.value?"Edit Scholarship":"New Scholarship"),1),e("div",Pt,[e("goa-form-item",Tt,[e("goa-input",{name:"sch-code",value:d.value.code,on_change:t[20]||(t[20]=l=>d.value.code=l.detail.value),width:"100%"},null,40,Rt)]),e("goa-form-item",zt,[e("goa-input",{name:"sch-name",value:d.value.name,on_change:t[21]||(t[21]=l=>d.value.name=l.detail.value),width:"100%"},null,40,Et)]),e("goa-form-item",Vt,[U(e("select",{"onUpdate:modelValue":t[22]||(t[22]=l=>d.value.type=l),class:"form-select"},[(o(!0),n(k,null,S(G.value.types,l=>(o(),n("option",{key:l.code,value:l.code},s(l.label),9,Mt))),128))],512),[[D,d.value.type]])]),e("goa-form-item",Ot,[U(e("select",{"onUpdate:modelValue":t[23]||(t[23]=l=>d.value.category=l),class:"form-select"},[t[58]||(t[58]=e("option",{value:""},"-- Select --",-1)),(o(!0),n(k,null,S(G.value.categories,l=>(o(),n("option",{key:l.code,value:l.code},s(l.label),9,Bt))),128))],512),[[D,d.value.category]])]),e("goa-form-item",Jt,[e("goa-input",{name:"sch-value",value:d.value.value,on_change:t[24]||(t[24]=l=>d.value.value=l.detail.value),width:"100%"},null,40,jt)]),e("goa-form-item",Wt,[e("goa-input",{name:"sch-year",value:d.value.academic_year,on_change:t[25]||(t[25]=l=>d.value.academic_year=l.detail.value),width:"100%",placeholder:"2025-2026"},null,40,Ht)]),e("goa-form-item",Yt,[e("goa-input",{name:"sch-dstart",type:"date",value:d.value.deadline_start,on_change:t[26]||(t[26]=l=>d.value.deadline_start=l.detail.value),width:"100%"},null,40,qt)]),e("goa-form-item",Gt,[e("goa-input",{name:"sch-dend",type:"date",value:d.value.deadline_end,on_change:t[27]||(t[27]=l=>d.value.deadline_end=l.detail.value),width:"100%"},null,40,Kt)]),e("goa-form-item",Qt,[e("goa-input",{name:"sch-max",type:"number",value:String(d.value.max_awards||""),on_change:t[28]||(t[28]=l=>d.value.max_awards=parseInt(l.detail.value)||null),width:"100%"},null,40,Xt)]),e("goa-form-item",Zt,[U(e("select",{"onUpdate:modelValue":t[29]||(t[29]=l=>d.value.status=l),class:"form-select"},[...t[59]||(t[59]=[e("option",{value:"Active"},"Active",-1),e("option",{value:"Closed"},"Closed",-1),e("option",{value:"Draft"},"Draft",-1)])],512),[[D,d.value.status]])])]),e("goa-form-item",el,[e("goa-textarea",{name:"sch-selection",value:d.value.selection_process,on_change:t[30]||(t[30]=l=>d.value.selection_process=l.detail.value),rows:"2",width:"100%"},null,40,tl)]),e("div",ll,[e("goa-button",{type:"tertiary",on_click:t[31]||(t[31]=l=>L.value=!1)},"Cancel",32),e("goa-button",{type:"primary",on_click:pe,disabled:P.value},s(P.value?"Saving...":"Save"),41,al)])])])):m("",!0),z.value?(o(),n("div",{key:9,class:"dialog-overlay",onClick:t[35]||(t[35]=ce(l=>z.value=!1,["self"]))},[e("div",sl,[t[60]||(t[60]=e("h3",null,"Import Legacy Submissions",-1)),t[61]||(t[61]=e("p",null,"Paste JSON data with legacy submissions. Each record should have: email, first_name, last_name, scholarship_code, status.",-1)),e("goa-form-item",ol,[e("goa-textarea",{name:"import-data",value:E.value,on_change:t[33]||(t[33]=l=>E.value=l.detail.value),rows:"8",width:"100%",placeholder:'[{"email":"john@example.com","first_name":"John","last_name":"Doe","scholarship_code":"AES-001","status":"Submitted"}]'},null,40,nl)]),f.value?(o(),n("div",il,[e("p",null,"Imported: "+s(f.value.imported)+" | Failed: "+s(f.value.failed)+" / "+s(f.value.total),1),((i=f.value.errors)==null?void 0:i.length)>0?(o(),n("div",ul,[(o(!0),n(k,null,S(f.value.errors,(l,c)=>(o(),n("p",{key:c},s(l.email)+": "+s(l.error),1))),128))])):m("",!0)])):m("",!0),e("div",dl,[e("goa-button",{type:"tertiary",on_click:t[34]||(t[34]=l=>z.value=!1)},"Close",32),e("goa-button",{type:"primary",on_click:ge,disabled:V.value||!E.value.trim()},s(V.value?"Importing...":"Import"),41,rl)])])])):m("",!0)])}}},pl=_e(cl,[["__scopeId","data-v-5633c5d0"]]);export{pl as default};
//# sourceMappingURL=AdminPanel-CkOKjULH.js.map
