{"version":3,"file":"CORResponse-Bu-yUs7-.js","sources":["../../src/views/CORResponse.vue"],"sourcesContent":["<template>\n  <div class=\"cor-response\">\n    <div class=\"cor-header\">\n      <h1>Confirmation of Registration</h1>\n      <p>Government of Alberta - Advanced Education</p>\n    </div>\n\n    <!-- Loading -->\n    <div v-if=\"loading\" class=\"loading\">\n      <goa-circular-progress size=\"large\"></goa-circular-progress>\n      <p>Loading COR request details...</p>\n    </div>\n\n    <!-- Error -->\n    <goa-callout v-else-if=\"error\" type=\"emergency\" heading=\"Error\">\n      {{ error }}\n    </goa-callout>\n\n    <!-- Already Responded -->\n    <div v-else-if=\"corRequest && corRequest.status !== 'Sent'\" class=\"already-responded\">\n      <goa-callout type=\"information\" heading=\"Already Processed\">\n        This COR request has already been responded to with status: <strong>{{ corRequest.status }}</strong>.\n      </goa-callout>\n    </div>\n\n    <!-- COR Request Details + Response Form -->\n    <div v-else-if=\"corRequest\" class=\"cor-content\">\n      <goa-callout type=\"information\" heading=\"COR Request\">\n        The Government of Alberta is requesting confirmation of registration for the following student\n        in connection with a scholarship application.\n      </goa-callout>\n\n      <div class=\"details-card\">\n        <h2>Student Information</h2>\n        <div class=\"details-grid\">\n          <div class=\"detail-item\">\n            <span class=\"label\">Student Name</span>\n            <span class=\"value\">{{ corRequest.applicant_name }}</span>\n          </div>\n          <div class=\"detail-item\">\n            <span class=\"label\">Application Reference</span>\n            <span class=\"value\">{{ corRequest.reference_number }}</span>\n          </div>\n          <div class=\"detail-item\">\n            <span class=\"label\">Institution</span>\n            <span class=\"value\">{{ corRequest.institution_name }}</span>\n          </div>\n          <div class=\"detail-item\">\n            <span class=\"label\">Program</span>\n            <span class=\"value\">{{ corRequest.program }}</span>\n          </div>\n          <div class=\"detail-item\">\n            <span class=\"label\">Enrollment Status</span>\n            <span class=\"value\">{{ formatEnrollment(corRequest.enrollment_status) }}</span>\n          </div>\n          <div class=\"detail-item\">\n            <span class=\"label\">Year of Study</span>\n            <span class=\"value\">{{ corRequest.year_of_study }}</span>\n          </div>\n        </div>\n\n        <div v-if=\"corRequest.custom_message\" class=\"custom-message\">\n          <h3>Additional Notes from Staff</h3>\n          <p>{{ corRequest.custom_message }}</p>\n        </div>\n      </div>\n\n      <!-- Response Form -->\n      <div class=\"response-card\" v-if=\"!submitted\">\n        <h2>Your Response</h2>\n        <p>Please confirm whether the above student is currently enrolled at your institution.</p>\n\n        <div class=\"form-group\">\n          <label>Registration Status <span class=\"required\">*</span></label>\n          <div class=\"radio-group\">\n            <label class=\"radio-label\">\n              <input type=\"radio\" v-model=\"responseForm.status\" value=\"Confirmed\" />\n              <span class=\"radio-text\">Confirmed - Student is currently enrolled</span>\n            </label>\n            <label class=\"radio-label\">\n              <input type=\"radio\" v-model=\"responseForm.status\" value=\"Not Confirmed\" />\n              <span class=\"radio-text\">Not Confirmed - Student is not currently enrolled</span>\n            </label>\n            <label class=\"radio-label\">\n              <input type=\"radio\" v-model=\"responseForm.status\" value=\"Unable to Confirm\" />\n              <span class=\"radio-text\">Unable to Confirm - Cannot verify at this time</span>\n            </label>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <goa-input name=\"confirmed_by\" :value=\"responseForm.confirmed_by\"\n            @_change=\"(e) => responseForm.confirmed_by = e.detail.value\"\n            width=\"100%\">\n            <span slot=\"leadingContent\">Your Name/Title</span>\n          </goa-input>\n        </div>\n\n        <div class=\"form-group\">\n          <label>Notes (optional)</label>\n          <textarea v-model=\"responseForm.notes\" rows=\"3\" class=\"textarea\"\n            placeholder=\"Any additional information about the student's enrollment...\"></textarea>\n        </div>\n\n        <goa-callout v-if=\"submitError\" type=\"emergency\" heading=\"Submission Error\">\n          {{ submitError }}\n        </goa-callout>\n\n        <div class=\"form-actions\">\n          <goa-button type=\"primary\" @_click=\"submitResponse\" :disabled=\"!responseForm.status || submitLoading\">\n            {{ submitLoading ? 'Submitting...' : 'Submit Response' }}\n          </goa-button>\n        </div>\n      </div>\n\n      <!-- Success -->\n      <div v-if=\"submitted\" class=\"success-card\">\n        <goa-callout type=\"success\" heading=\"Response Submitted\">\n          Thank you for your response. The scholarship office has been notified.\n        </goa-callout>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { corAPI } from '@/services/corService';\n\nconst route = useRoute();\nconst token = route.params.token;\n\nconst loading = ref(true);\nconst error = ref(null);\nconst corRequest = ref(null);\nconst submitted = ref(false);\nconst submitLoading = ref(false);\nconst submitError = ref(null);\n\nconst responseForm = reactive({\n  status: '',\n  confirmed_by: '',\n  notes: ''\n});\n\nonMounted(async () => {\n  try {\n    corRequest.value = await corAPI.getRequestInfo(token);\n  } catch (err) {\n    error.value = 'This COR request was not found or the link has expired.';\n  } finally {\n    loading.value = false;\n  }\n});\n\nfunction formatEnrollment(status) {\n  const map = { full_time: 'Full-Time', part_time: 'Part-Time', co_op: 'Co-op' };\n  return map[status] || status || '-';\n}\n\nasync function submitResponse() {\n  if (!responseForm.status) return;\n  submitLoading.value = true;\n  submitError.value = null;\n  try {\n    await corAPI.respond(token, {\n      status: responseForm.status,\n      confirmed_by: responseForm.confirmed_by || 'Institution',\n      notes: responseForm.notes\n    });\n    submitted.value = true;\n  } catch (err) {\n    submitError.value = err.response?.data?.message || err.message || 'Failed to submit response';\n  } finally {\n    submitLoading.value = false;\n  }\n}\n</script>\n\n<style scoped>\n.cor-response { max-width: 800px; margin: 0 auto; padding: 24px; }\n.cor-header { text-align: center; margin-bottom: 32px; border-bottom: 3px solid #0070c4; padding-bottom: 16px; }\n.cor-header h1 { color: #0070c4; margin-bottom: 4px; }\n.cor-header p { color: #666; }\n\n.loading { text-align: center; padding: 60px; }\n.loading p { margin-top: 16px; color: #666; }\n\n.details-card, .response-card, .success-card {\n  background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 24px; margin-top: 24px;\n}\n.details-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px; }\n.detail-item .label { display: block; font-size: 12px; color: #666; text-transform: uppercase; margin-bottom: 2px; }\n.detail-item .value { font-size: 15px; font-weight: 500; }\n\n.custom-message { margin-top: 20px; padding-top: 16px; border-top: 1px solid #eee; }\n.custom-message h3 { font-size: 14px; margin-bottom: 4px; }\n.custom-message p { color: #555; }\n\n.form-group { margin: 20px 0; }\n.form-group > label { display: block; font-weight: 500; margin-bottom: 8px; }\n.required { color: #dc3545; }\n\n.radio-group { display: flex; flex-direction: column; gap: 12px; }\n.radio-label { display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px; border: 1px solid #ddd; border-radius: 6px; }\n.radio-label:hover { background: #f8f9fa; }\n.radio-label input[type=\"radio\"] { margin: 0; }\n.radio-text { font-size: 14px; }\n\n.textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; font-size: 14px; }\n.form-actions { margin-top: 24px; }\n.already-responded { margin-top: 24px; }\n</style>\n"],"names":["token","useRoute","loading","ref","error","corRequest","submitted","submitLoading","submitError","responseForm","reactive","onMounted","corAPI","formatEnrollment","status","submitResponse","err","_b","_a","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","$event","_vModelRadio","_hoisted_26","_hoisted_27","_hoisted_28","e","_hoisted_30","_vModelText","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34"],"mappings":"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"}