import{_ as k,e as S,o as l,c as i,a as t,t as n,h as y,d,s as v,y as _,v as x,i as w,r as u,p as T}from"./index-DDxpmVXJ.js";import{c as R}from"./corService-Dge5eI5Q.js";const N={class:"cor-response"},q={key:0,class:"loading"},A={key:1,type:"emergency",heading:"Error"},E={key:2,class:"already-responded"},V={type:"information",heading:"Already Processed"},I={key:3,class:"cor-content"},O={class:"details-card"},U={class:"details-grid"},P={class:"detail-item"},B={class:"value"},F={class:"detail-item"},M={class:"value"},Y={class:"detail-item"},D={class:"value"},G={class:"detail-item"},L={class:"value"},z={class:"detail-item"},j={class:"value"},H={class:"detail-item"},J={class:"value"},K={key:0,class:"custom-message"},Q={key:0,class:"response-card"},W={class:"form-group"},X={class:"radio-group"},Z={class:"radio-label"},$={class:"radio-label"},ss={class:"radio-label"},ts={class:"form-group"},es=["value"],os={class:"form-group"},as={key:0,type:"emergency",heading:"Submission Error"},ns={class:"form-actions"},ls=["disabled"],is={key:1,class:"success-card"},rs={__name:"CORResponse",setup(us){const g=w().params.token,b=u(!0),f=u(null),o=u(null),c=u(!1),p=u(!1),m=u(null),e=T({status:"",confirmed_by:"",notes:""});S(async()=>{try{o.value=await R.getRequestInfo(g)}catch{f.value="This COR request was not found or the link has expired."}finally{b.value=!1}});function h(r){return{full_time:"Full-Time",part_time:"Part-Time",co_op:"Co-op"}[r]||r||"-"}async function C(){var r,s;if(e.status){p.value=!0,m.value=null;try{await R.respond(g,{status:e.status,confirmed_by:e.confirmed_by||"Institution",notes:e.notes}),c.value=!0}catch(a){m.value=((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.message)||a.message||"Failed to submit response"}finally{p.value=!1}}}return(r,s)=>(l(),i("div",N,[s[26]||(s[26]=t("div",{class:"cor-header"},[t("h1",null,"Confirmation of Registration"),t("p",null,"Government of Alberta - Advanced Education")],-1)),b.value?(l(),i("div",q,[...s[5]||(s[5]=[t("goa-circular-progress",{size:"large"},null,-1),t("p",null,"Loading COR request details...",-1)])])):f.value?(l(),i("goa-callout",A,n(f.value),1)):o.value&&o.value.status!=="Sent"?(l(),i("div",E,[t("goa-callout",V,[s[6]||(s[6]=y(" This COR request has already been responded to with status: ",-1)),t("strong",null,n(o.value.status),1),s[7]||(s[7]=y(". ",-1))])])):o.value?(l(),i("div",I,[s[25]||(s[25]=t("goa-callout",{type:"information",heading:"COR Request"}," The Government of Alberta is requesting confirmation of registration for the following student in connection with a scholarship application. ",-1)),t("div",O,[s[15]||(s[15]=t("h2",null,"Student Information",-1)),t("div",U,[t("div",P,[s[8]||(s[8]=t("span",{class:"label"},"Student Name",-1)),t("span",B,n(o.value.applicant_name),1)]),t("div",F,[s[9]||(s[9]=t("span",{class:"label"},"Application Reference",-1)),t("span",M,n(o.value.reference_number),1)]),t("div",Y,[s[10]||(s[10]=t("span",{class:"label"},"Institution",-1)),t("span",D,n(o.value.institution_name),1)]),t("div",G,[s[11]||(s[11]=t("span",{class:"label"},"Program",-1)),t("span",L,n(o.value.program),1)]),t("div",z,[s[12]||(s[12]=t("span",{class:"label"},"Enrollment Status",-1)),t("span",j,n(h(o.value.enrollment_status)),1)]),t("div",H,[s[13]||(s[13]=t("span",{class:"label"},"Year of Study",-1)),t("span",J,n(o.value.year_of_study),1)])]),o.value.custom_message?(l(),i("div",K,[s[14]||(s[14]=t("h3",null,"Additional Notes from Staff",-1)),t("p",null,n(o.value.custom_message),1)])):d("",!0)]),c.value?d("",!0):(l(),i("div",Q,[s[22]||(s[22]=t("h2",null,"Your Response",-1)),s[23]||(s[23]=t("p",null,"Please confirm whether the above student is currently enrolled at your institution.",-1)),t("div",W,[s[19]||(s[19]=t("label",null,[y("Registration Status "),t("span",{class:"required"},"*")],-1)),t("div",X,[t("label",Z,[v(t("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=a=>e.status=a),value:"Confirmed"},null,512),[[_,e.status]]),s[16]||(s[16]=t("span",{class:"radio-text"},"Confirmed - Student is currently enrolled",-1))]),t("label",$,[v(t("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=a=>e.status=a),value:"Not Confirmed"},null,512),[[_,e.status]]),s[17]||(s[17]=t("span",{class:"radio-text"},"Not Confirmed - Student is not currently enrolled",-1))]),t("label",ss,[v(t("input",{type:"radio","onUpdate:modelValue":s[2]||(s[2]=a=>e.status=a),value:"Unable to Confirm"},null,512),[[_,e.status]]),s[18]||(s[18]=t("span",{class:"radio-text"},"Unable to Confirm - Cannot verify at this time",-1))])])]),t("div",ts,[t("goa-input",{name:"confirmed_by",value:e.confirmed_by,on_change:s[3]||(s[3]=a=>e.confirmed_by=a.detail.value),width:"100%"},[...s[20]||(s[20]=[t("span",{slot:"leadingContent"},"Your Name/Title",-1)])],40,es)]),t("div",os,[s[21]||(s[21]=t("label",null,"Notes (optional)",-1)),v(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=a=>e.notes=a),rows:"3",class:"textarea",placeholder:"Any additional information about the student's enrollment..."},null,512),[[x,e.notes]])]),m.value?(l(),i("goa-callout",as,n(m.value),1)):d("",!0),t("div",ns,[t("goa-button",{type:"primary",on_click:C,disabled:!e.status||p.value},n(p.value?"Submitting...":"Submit Response"),41,ls)])])),c.value?(l(),i("div",is,[...s[24]||(s[24]=[t("goa-callout",{type:"success",heading:"Response Submitted"}," Thank you for your response. The scholarship office has been notified. ",-1)])])):d("",!0)])):d("",!0)]))}},vs=k(rs,[["__scopeId","data-v-aba35c35"]]);export{vs as default};
//# sourceMappingURL=CORResponse-Bu-yUs7-.js.map
