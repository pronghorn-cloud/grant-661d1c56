{"version":3,"file":"StaffDashboard-Cpu7cGBk.js","sources":["../../src/views/StaffDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"staff-dashboard\">\n    <header class=\"page-header\">\n      <h1>Staff Dashboard</h1>\n      <p>Application processing overview</p>\n    </header>\n\n    <div v-if=\"loading\" class=\"loading\">\n      <goa-circular-progress size=\"large\"></goa-circular-progress>\n    </div>\n\n    <goa-callout v-else-if=\"error\" type=\"emergency\" heading=\"Error loading dashboard\">\n      {{ error }}\n    </goa-callout>\n\n    <div v-else>\n      <!-- Summary Cards -->\n      <div class=\"stat-cards\">\n        <div class=\"stat-card\">\n          <h3>Pending Review</h3>\n          <p class=\"stat-number warning\">{{ stats.summary?.pending_review || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Submitted</h3>\n          <p class=\"stat-number\">{{ stats.summary?.submitted || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Under Review</h3>\n          <p class=\"stat-number\">{{ stats.summary?.under_review || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Missing Info</h3>\n          <p class=\"stat-number warning\">{{ stats.summary?.missing_info || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Approved</h3>\n          <p class=\"stat-number success\">{{ stats.summary?.approved || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Rejected</h3>\n          <p class=\"stat-number danger\">{{ stats.summary?.rejected || 0 }}</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Avg. Turnaround</h3>\n          <p class=\"stat-number\">{{ stats.summary?.avg_turnaround_days || 0 }} days</p>\n        </div>\n        <div class=\"stat-card\">\n          <h3>Total Applications</h3>\n          <p class=\"stat-number\">{{ stats.summary?.total_applications || 0 }}</p>\n        </div>\n      </div>\n\n      <div class=\"dashboard-grid\">\n        <!-- Volume by Scholarship -->\n        <section class=\"dashboard-section\">\n          <h2>Volume by Scholarship (Top 10)</h2>\n          <div v-if=\"stats.byScholarship?.length > 0\" class=\"bar-chart\">\n            <div v-for=\"item in stats.byScholarship\" :key=\"item.name\" class=\"bar-row\">\n              <span class=\"bar-label\">{{ item.name }}</span>\n              <div class=\"bar-container\">\n                <div class=\"bar-fill\" :style=\"{ width: getBarWidth(item.count) + '%' }\"></div>\n                <span class=\"bar-value\">{{ item.count }}</span>\n              </div>\n            </div>\n          </div>\n          <p v-else class=\"no-data\">No application data yet.</p>\n        </section>\n\n        <!-- Staff Workload -->\n        <section class=\"dashboard-section\">\n          <h2>Staff Workload</h2>\n          <div v-if=\"stats.staffWorkload?.length > 0\" class=\"workload-list\">\n            <div v-for=\"staff in stats.staffWorkload\" :key=\"staff.email\" class=\"workload-item\">\n              <span class=\"staff-name\">{{ staff.display_name || staff.email }}</span>\n              <span class=\"workload-count\">{{ staff.assigned_count }} assigned</span>\n            </div>\n          </div>\n          <p v-else class=\"no-data\">No applications assigned yet.</p>\n        </section>\n\n        <!-- Recent Activity -->\n        <section class=\"dashboard-section full-width\">\n          <h2>Recent Activity</h2>\n          <div v-if=\"stats.recentActivity?.length > 0\" class=\"activity-list\">\n            <div v-for=\"act in stats.recentActivity\" :key=\"act.id || act.created_at\" class=\"activity-item\">\n              <strong>{{ formatAction(act.action) }}</strong>\n              <span>by {{ act.staff_name || 'System' }}</span>\n              <span class=\"activity-date\">{{ formatDateTime(act.created_at) }}</span>\n            </div>\n          </div>\n          <p v-else class=\"no-data\">No recent activity.</p>\n        </section>\n      </div>\n\n      <!-- Quick Actions -->\n      <div class=\"quick-actions\">\n        <goa-button type=\"primary\" @_click=\"$router.push('/staff/queue')\">View Work Queue</goa-button>\n        <goa-button type=\"secondary\" @_click=\"$router.push('/staff/reports')\">Generate Reports</goa-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { staffAPI } from '@/services/staffService';\n\nconst loading = ref(true);\nconst stats = ref({});\nconst error = ref(null);\n\nonMounted(async () => {\n  try {\n    stats.value = await staffAPI.getDashboardStats();\n  } catch (err) {\n    console.error('Failed to load dashboard:', err);\n    error.value = err.response?.data?.message || err.message || 'Failed to load dashboard data';\n  } finally {\n    loading.value = false;\n  }\n});\n\nfunction getBarWidth(count) {\n  const max = Math.max(...(stats.value.byScholarship?.map(s => parseInt(s.count)) || [1]));\n  return (parseInt(count) / max) * 100;\n}\n\nfunction formatAction(action) {\n  return action?.replace(/_/g, ' ').toLowerCase().replace(/\\b\\w/g, c => c.toUpperCase()) || action;\n}\n\nfunction formatDateTime(d) {\n  if (!d) return '';\n  return new Date(d).toLocaleString('en-CA', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });\n}\n</script>\n\n<style scoped>\n.staff-dashboard { max-width: 1400px; margin: 0 auto; }\n.page-header { margin-bottom: var(--goa-space-l); }\n.page-header h1 { font-size: var(--goa-font-size-7); font-weight: var(--goa-font-weight-bold); margin-bottom: var(--goa-space-2xs); }\n.page-header p { color: var(--goa-color-text-secondary); }\n\n.stat-cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--goa-space-m); margin-bottom: var(--goa-space-xl); }\n.stat-card { padding: var(--goa-space-l); background: var(--goa-color-greyscale-white); border: 1px solid var(--goa-color-greyscale-200); border-radius: var(--goa-border-radius-m); text-align: center; }\n.stat-card h3 { font-size: var(--goa-font-size-2); color: var(--goa-color-text-secondary); margin-bottom: var(--goa-space-xs); }\n.stat-number { font-size: var(--goa-font-size-7); font-weight: var(--goa-font-weight-bold); color: var(--goa-color-interactive-default); }\n.stat-number.warning { color: #b06000; }\n.stat-number.success { color: #137333; }\n.stat-number.danger { color: #c5221f; }\n\n.dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--goa-space-xl); margin-bottom: var(--goa-space-xl); }\n.dashboard-section { padding: var(--goa-space-l); background: var(--goa-color-greyscale-white); border: 1px solid var(--goa-color-greyscale-200); border-radius: var(--goa-border-radius-m); }\n.dashboard-section.full-width { grid-column: 1 / -1; }\n.dashboard-section h2 { font-size: var(--goa-font-size-4); font-weight: var(--goa-font-weight-bold); margin-bottom: var(--goa-space-m); }\n\n.bar-chart { display: flex; flex-direction: column; gap: var(--goa-space-s); }\n.bar-row { display: flex; align-items: center; gap: var(--goa-space-m); }\n.bar-label { width: 200px; font-size: var(--goa-font-size-2); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; flex-shrink: 0; }\n.bar-container { flex: 1; display: flex; align-items: center; gap: var(--goa-space-xs); }\n.bar-fill { height: 20px; background: var(--goa-color-interactive-default); border-radius: 3px; min-width: 4px; }\n.bar-value { font-size: var(--goa-font-size-2); font-weight: var(--goa-font-weight-bold); }\n\n.workload-list { display: flex; flex-direction: column; gap: var(--goa-space-s); }\n.workload-item { display: flex; justify-content: space-between; padding: var(--goa-space-s); background: var(--goa-color-greyscale-100); border-radius: var(--goa-border-radius-s); }\n.workload-count { font-weight: var(--goa-font-weight-bold); color: var(--goa-color-interactive-default); }\n\n.activity-list { display: flex; flex-direction: column; gap: var(--goa-space-xs); }\n.activity-item { display: flex; gap: var(--goa-space-s); font-size: var(--goa-font-size-2); padding: var(--goa-space-xs) 0; border-bottom: 1px solid var(--goa-color-greyscale-100); }\n.activity-date { color: var(--goa-color-text-secondary); margin-left: auto; }\n\n.quick-actions { display: flex; gap: var(--goa-space-m); }\n.no-data { color: var(--goa-color-text-secondary); font-style: italic; }\n.loading { display: flex; justify-content: center; padding: var(--goa-space-xl); }\n\n@media (max-width: 1024px) {\n  .stat-cards { grid-template-columns: repeat(2, 1fr); }\n  .dashboard-grid { grid-template-columns: 1fr; }\n}\n</style>\n"],"names":["loading","ref","stats","error","onMounted","staffAPI","err","_b","_a","getBarWidth","count","max","s","formatAction","action","c","formatDateTime","d","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_c","_hoisted_12","_hoisted_13","_d","_hoisted_14","_hoisted_15","_e","_hoisted_16","_hoisted_17","_f","_hoisted_18","_hoisted_19","_g","_hoisted_20","_hoisted_21","_h","_hoisted_22","_hoisted_23","_i","_hoisted_24","_Fragment","_renderList","item","_hoisted_25","_hoisted_26","_normalizeStyle","_hoisted_27","_hoisted_28","_hoisted_29","_j","_hoisted_30","staff","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_k","_hoisted_35","act","_hoisted_36","_hoisted_37","_hoisted_38","$event","$router"],"mappings":"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"}